(()=>{"use strict";function e(i){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(i)}function i(e,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,t(s.key),s)}}function t(i){var t=function(i){if("object"!=e(i)||!i)return i;var t=i[Symbol.toPrimitive];if(void 0!==t){var r=t.call(i,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(i);return"symbol"==e(t)?t:t+""}var r=function(){return e=function e(i,t){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=i,this.id=t,this.field=i.field,this.changes=[]},(t=[{key:"attach",value:function(e){var i=this,t=$("<div>",{class:"h5p-editor-slide-deck"}),r=$("<div>",{class:"h5p-editor-slide-deck-slides"});this.params.slides&&this.params.slides.length&&this.params.slides.forEach((function(e,t){i.addSlide(r,e,t)}));var s=$("<button>",{class:"h5p-editor-slide-deck-add-slide",text:"Add Slide"}).on("click",(function(){i.addSlide(r,{title:"",image:{},audioOrVideo:null,notes:""},i.params.slides?i.params.slides.length:0)}));t.append(r,s),e.html(t)}},{key:"addSlide",value:function(e,i,t){var r=this,s=$("<div>",{class:"h5p-editor-slide-deck-slide"}),d=$("<div>",{class:"h5p-editor-slide-deck-title"});H5PEditor.widgets.text.create(i.title,this.field.fields[0],d,this.id);var o=$("<div>",{class:"h5p-editor-slide-deck-image"});H5PEditor.widgets.library.create(i.image,this.field.fields[1],o,this.id);var a=$("<div>",{class:"h5p-editor-slide-deck-media"});H5PEditor.widgets.library.create(i.audioOrVideo,this.field.fields[2],a,this.id);var n=$("<div>",{class:"h5p-editor-slide-deck-notes"});H5PEditor.widgets.text.create(i.notes,this.field.fields[3],n,this.id);var l=$("<button>",{class:"h5p-editor-slide-deck-remove-slide",text:"Remove"}).on("click",(function(){s.remove(),r.params.slides.splice(t,1),r.triggerChange()}));s.append(d,o,a,n,l),e.append(s)}},{key:"validate",value:function(){return!0}},{key:"remove",value:function(){}},{key:"triggerChange",value:function(){this.changes.forEach((function(e){return e()}))}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();H5PEditor.widgets.slideDeck=r})();