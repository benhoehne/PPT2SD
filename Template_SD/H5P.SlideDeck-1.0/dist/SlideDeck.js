(()=>{"use strict";var e={d:(t,a)=>{for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>a}),H5P.SlideDeck=function(e,t){function a(e,a,i){var n=this;t.call(n),this.params=e||{},this.contentId=a,this.contentData=i,this.currentSlide=0,this.userHasInteracted=!1,this.audioInstances={},this.isChangingSlide=!1,this.params.slides||(this.params.slides=[]),this.on("resize",(function(){n.resize()})),document.addEventListener("click",(function(){n.userHasInteracted||(n.userHasInteracted=!0,n.currentAudioElement&&n.params.slides[n.currentSlide].params.audioOrVideo&&n.params.slides[n.currentSlide].params.audioOrVideo.params.autoplay&&n.currentAudioElement.play().catch((function(e){})))}))}return a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.prototype.createStartModal=function(){var e=this,t=document.createElement("div");t.className="h5p-slidedeck-start-modal",t.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 1000;";var a=document.createElement("div");a.style.cssText="background: white; padding: 40px; border-radius: 8px; text-align: center; max-width: 500px;";var i=document.createElement("h2");i.textContent="Welcome!",i.style.cssText="margin: 0 0 20px 0; color: #333;";var n=document.createElement("p");n.textContent="Click the button below to start.",n.style.cssText="margin: 0 0 30px 0; color: #666;";var s=document.createElement("button");return s.textContent="Start",s.style.cssText="background: #1a73e8; color: white; border: none; padding: 12px 24px; font-size: 16px; border-radius: 4px; cursor: pointer;",s.addEventListener("click",(function(){e.userHasInteracted=!0,t.remove(),e.startPresentation()})),a.appendChild(i),a.appendChild(n),a.appendChild(s),t.appendChild(a),t},a.prototype.startPresentation=function(){var e=this;if(this.shouldAutoplayAfterModal=!0,this.currentAudioElement){var t=this.params.slides[this.currentSlide];t&&t.params&&t.params.audioOrVideo&&t.params.audioOrVideo.params&&t.params.audioOrVideo.params.autoplay&&this.currentAudioElement.play().then((function(){e.shouldAutoplayAfterModal=!1})).catch((function(e){}))}},a.prototype.attach=function(e){var t=e.get(0);t.classList.add("h5p-slidedeck-main"),t.innerHTML="";var a=!1;this.params.slides.forEach((function(e){e.params&&e.params.audioOrVideo&&e.params.audioOrVideo.params&&e.params.audioOrVideo.params.autoplay&&(a=!0)})),this.container=document.createElement("div"),this.container.className="h5p-slidedeck",this.sidebar=document.createElement("div"),this.sidebar.className="h5p-slidedeck-sidebar",this.slideArea=document.createElement("div"),this.slideArea.className="h5p-slidedeck-slidearea",this.container.appendChild(this.sidebar),this.container.appendChild(this.slideArea),t.appendChild(this.container),this.renderSidebar(),this.renderSlide();var i=this;setTimeout((function(){i.initResponsiveBehavior()}),0),a&&!this.userHasInteracted&&t.appendChild(this.createStartModal())},a.prototype.updateSidebarHeight=function(){var e=this;requestAnimationFrame((function(){var t=e.container.querySelector(".h5p-slidedeck-nav"),a=e.container.querySelector(".h5p-slidedeck-slidearea"),i=e.container.querySelector(".h5p-slidedeck-slidearea .h5p-slidedeck-content"),n=e.container.querySelector(".h5p-slidedeck-slidearea .h5p-slidedeck-content .h5p-slidedeck-image img")||e.container.querySelector(".h5p-slidedeck-slidearea .h5p-slidedeck-content .h5p-slidedeck-image .h5p-image img")||e.container.querySelector(".h5p-slidedeck-slidearea img");if(t&&a&&i){var s=t.getBoundingClientRect(),r=a.getBoundingClientRect(),d=i.getBoundingClientRect(),c=n?n.getBoundingClientRect():null,l=s.height,o=(r.height,d.height,c&&c.height,420+l);e.sidebar.style.maxHeight=o+"px"}}))},a.prototype.renderSidebar=function(){var e=this;this.sidebar.innerHTML="";var t=this.params.slides[this.currentSlide],a=document.createElement("div");a.className="h5p-slidedeck-title-section";var i=document.createElement("h1");i.className="h5p-slidedeck-title",i.textContent=t.params.title||"Technical Equipment",a.appendChild(i);var n=document.createElement("h2");n.className="h5p-slidedeck-subtitle",n.textContent=t.params.subtitle||"",a.appendChild(n),this.sidebar.appendChild(a);var s=document.createElement("button");s.className="sidebar-toggle",s.innerHTML='<i class="fa fa-chevron-left"></i>',s.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.toggleSidebar()})),window.innerWidth<=600?this.container.appendChild(s):this.sidebar.appendChild(s);var r=document.createElement("div");r.className="h5p-slidedeck-tabs";var d=document.createElement("button");d.textContent="Slides",d.className="active";var c=document.createElement("button");c.textContent="Notes",r.appendChild(d),r.appendChild(c),this.sidebar.appendChild(r);var l=document.createElement("div");l.className="h5p-slidedeck-thumbs-container",this.sidebar.appendChild(l);var o=document.createElement("div");o.className="h5p-slidedeck-notes-container",o.style.display="none";var p=document.createElement("div");p.className="h5p-slidedeck-notes",p.innerHTML=t.params.notes||"",o.appendChild(p),this.sidebar.appendChild(o),this.thumbs=[],this.params.slides.forEach((function(t,a){var i=document.createElement("div");i.className="h5p-slidedeck-thumb",i.setAttribute("data-slide-number",a+1);var n=document.createElement("div");n.className="h5p-slidedeck-thumb-title",n.textContent=t.params.title||"Slide "+(a+1),i.appendChild(n);var s=document.createElement("div");if(s.className="h5p-slidedeck-thumb-image",i.appendChild(s),l.appendChild(i),e.thumbs.push(i),t.params.image&&t.params.image.library)if(0===t.params.image.library.indexOf("H5P.Image"))H5P.newRunnable(t.params.image,e.contentId,void 0,!1).attach(H5P.jQuery(s));else if(0===t.params.image.library.indexOf("H5P.PDFViewer")){var r=JSON.parse(JSON.stringify(t.params.image));r.params.displayOptions||(r.params.displayOptions={}),r.params.displayOptions.width="80px",r.params.displayOptions.height="60px",H5P.newRunnable(r,e.contentId,void 0,!1).attach(H5P.jQuery(s))}i.addEventListener("click",(function(){e.goToSlide(a)}))})),d.addEventListener("click",(function(){d.classList.add("active"),c.classList.remove("active"),l.style.display="",o.style.display="none"})),c.addEventListener("click",(function(){c.classList.add("active"),d.classList.remove("active"),l.style.display="none",o.style.display=""}))},a.prototype.updateSidebar=function(){var e=this,t=this.params.slides[this.currentSlide],a=this.sidebar.querySelector(".h5p-slidedeck-title"),i=this.sidebar.querySelector(".h5p-slidedeck-subtitle");a&&t.params&&(a.textContent=t.params.title||""),i&&t.params&&(i.textContent=t.params.subtitle||""),this.sidebar.querySelectorAll(".h5p-slidedeck-thumb").forEach((function(t,a){a===e.currentSlide?t.classList.add("active"):t.classList.remove("active")}));var n=this.sidebar.querySelector(".h5p-slidedeck-notes-container"),s=this.sidebar.querySelector(".h5p-slidedeck-notes");n&&s&&t.params&&t.params.notes&&(s.innerHTML=t.params.notes)},a.prototype.renderSlide=function(){var e=this.params.slides[this.currentSlide];if(e&&e.params){this.stopAllAudio(),this.slideArea.innerHTML="";var t=document.createElement("div");if(t.className="h5p-slidedeck-content",e.params.image&&e.params.image.library)if(0===e.params.image.library.indexOf("H5P.PDFViewer")){var a=document.createElement("div");a.className="h5p-slidedeck-pdf-container",t.appendChild(a),H5P.newRunnable(e.params.image,this.contentId,void 0,!1).attach(H5P.jQuery(a))}else if(0===e.params.image.library.indexOf("H5P.Image")){var i=document.createElement("div");i.className="h5p-slidedeck-image",t.appendChild(i),H5P.newRunnable(e.params.image,this.contentId,void 0,!1).attach(H5P.jQuery(i))}this.slideArea.appendChild(t),this.isChangingSlide=!1,this.setupMedia(e.params),this.addNavigationAndControls(e.params.audioOrVideo&&!this.isVideo(e.params)),this.updateSidebar()}},a.prototype.updateActiveThumbnail=function(){this.thumbs&&this.thumbs.forEach((function(e,t){e.classList.toggle("active",t===this.currentSlide)}),this)},a.prototype.isVideo=function(e){return e.audioOrVideo&&e.audioOrVideo.library&&0===e.audioOrVideo.library.indexOf("H5P.Video")&&e.audioOrVideo.params&&e.audioOrVideo.params.sources&&e.audioOrVideo.params.sources.length>0},a.prototype.toggleSidebar=function(){var e=this.sidebar.classList.contains("expanded"),t=document.querySelector(".sidebar-toggle"),a=window.innerWidth;e?(this.sidebar.classList.remove("expanded"),t&&(t.innerHTML=a<=1e3?'<i class="fa fa-bars"></i>':'<i class="fa fa-chevron-right"></i>')):(this.sidebar.classList.add("expanded"),t&&(t.innerHTML=a<=1e3?'<i class="fa fa-times"></i>':'<i class="fa fa-chevron-left"></i>'));var i=this.params.slides[this.currentSlide];if(i.params&&this.isVideo(i.params)){var n=this.sidebar.querySelector(".h5p-slidedeck-video-top")||this.slideArea.querySelector(".h5p-slidedeck-video-overlay");n&&n.remove(),this.setupMedia(i.params)}},a.prototype.initResponsiveBehavior=function(){var e=this;function t(){var t=window.innerWidth,a=document.querySelector(".sidebar-toggle");t<=1e3?(e.sidebar.classList.remove("expanded"),a&&a.parentNode!==e.container&&e.container.appendChild(a),a&&(a.innerHTML='<i class="fa fa-bars"></i>')):t>1e3&&(e.sidebar.classList.add("expanded"),a&&a.parentNode!==e.sidebar&&e.sidebar.appendChild(a),a&&(a.innerHTML='<i class="fa fa-chevron-left"></i>'))}function a(t){if(window.innerWidth<=1e3&&e.sidebar.classList.contains("expanded")){var a=document.querySelector(".sidebar-toggle");e.sidebar.contains(t.target)||t.target===a||e.toggleSidebar()}}t(),window.addEventListener("resize",t),document.addEventListener("click",a),this.resizeHandler=t,this.backdropHandler=a},a.prototype.stopAllAudio=function(){if(this.isChangingSlide=!0,this.currentAudioElement){this.currentAudioElement.pause(),this.currentAudioElement.currentTime=0;var e=this.currentAudioElement.cloneNode(!1);this.currentAudioElement.parentNode?.replaceChild(e,this.currentAudioElement),this.currentAudioElement=null}this.currentMediaInstance&&(this.currentMediaInstance.pause&&this.currentMediaInstance.pause(),this.currentMediaInstance.stop&&this.currentMediaInstance.stop(),this.currentMediaInstance=null),this.currentVideoInstance&&(this.currentVideoInstance.pause&&this.currentVideoInstance.pause(),this.currentVideoInstance.stop&&this.currentVideoInstance.stop(),this.currentVideoInstance=null),document.querySelectorAll("audio").forEach((function(e){e.pause(),e.currentTime=0})),document.querySelectorAll(".h5p-audio-minimal-pause").forEach((function(e){e.click()}));var t=document.querySelector(".audio-play-pause");t&&(t.innerHTML='<i class="fa fa-play"></i>')},a.prototype.prevSlide=function(){this.currentSlide>0&&this.currentSlide--},a.prototype.nextSlide=function(){this.currentSlide<this.params.slides.length-1&&this.currentSlide++},a.prototype.goToSlide=function(e){e>=0&&e<this.params.slides.length&&(this.isChangingSlide=!0,this.currentSlide=e,this.renderSlide())},a.prototype.setupMedia=function(e){var t=this,a=this.container.querySelector(".h5p-slidedeck-audio-container");a&&a.remove();var i=this.sidebar.querySelector(".h5p-slidedeck-video-top")||this.slideArea.querySelector(".h5p-slidedeck-video-overlay");if(i&&i.remove(),this.currentMediaInstance=null,this.currentAudioElement=null,e.audioOrVideo&&e.audioOrVideo.params){var n=this.isVideo(e);if(!n&&e.audioOrVideo.params.files&&e.audioOrVideo.params.files.length>0){var s=document.createElement("div");s.className="h5p-slidedeck-audio-container";var r=document.createElement("audio");r.preload="auto";var d=e.audioOrVideo.params.files[0],c=H5P.getPath(d.path,this.contentId);r.src=c,s.appendChild(r),this.container.appendChild(s),this.currentAudioElement=r,this.updatePlayPauseButton=function(){var e=t.container.querySelector(".audio-play-pause");e&&(e.innerHTML=r.paused?'<i class="fa fa-play"></i>':'<i class="fa fa-pause"></i>')},r.addEventListener("play",this.updatePlayPauseButton),r.addEventListener("pause",this.updatePlayPauseButton),r.addEventListener("ended",this.updatePlayPauseButton);var l=!1;e.audioOrVideo.params&&e.audioOrVideo.params.autoplay&&(l=!0),this.params.behaviour&&this.params.behaviour.autoPlay&&(l=!0);var o=!1;if(this.shouldAutoplayAfterModal&&l?(o=!0,this.shouldAutoplayAfterModal=!1):this.userHasInteracted&&l&&!this.isChangingSlide&&(o=!0),o){var p=function(){!t.isChangingSlide&&t.currentAudioElement&&t.currentAudioElement.play().catch((function(){}))};r.readyState>=3?setTimeout(p,200):(r.addEventListener("canplaythrough",(function e(){r.removeEventListener("canplaythrough",e),setTimeout(p,200)})),r.addEventListener("loadeddata",(function e(){r.removeEventListener("loadeddata",e),r.readyState>=3&&r.paused&&setTimeout(p,200)})))}}if(n){var u=document.createElement("div");u.className="h5p-slidedeck-video-container";var h=H5P.newRunnable(e.audioOrVideo,this.contentId),m=this.sidebar.classList.contains("expanded"),v=window.innerWidth;if(m||v>1e3){u.className="h5p-slidedeck-video-top";var f=this.sidebar.querySelector(".h5p-slidedeck-title-section");f?this.sidebar.insertBefore(u,f):this.sidebar.insertBefore(u,this.sidebar.firstChild)}else{u.className="h5p-slidedeck-video-overlay";var y=document.createElement("button");y.className="video-toggle",y.innerHTML='<i class="fa fa-compress"></i>',y.addEventListener("click",(function(e){e.stopPropagation(),u.classList.toggle("collapsed"),y.innerHTML=u.classList.contains("collapsed")?'<i class="fa fa-expand"></i>':'<i class="fa fa-compress"></i>'})),u.appendChild(y),this.slideArea.appendChild(u)}h.attach(H5P.jQuery(u)),this.currentVideoInstance=h,e.audioOrVideo.params.playback&&e.audioOrVideo.params.playback.autoplay&&this.userHasInteracted&&setTimeout((function(){t.currentVideoInstance&&t.currentVideoInstance.play&&t.currentVideoInstance.play()}),500)}}},a.prototype.addNavigationAndControls=function(e){var t=this,a=this.container.querySelector(".h5p-slidedeck-nav");a&&a.remove();var i=document.createElement("div");i.className="h5p-slidedeck-nav";var n=document.createElement("div");n.className="nav-controls";var s=document.createElement("button");s.innerHTML='<i class="fa fa-chevron-left"></i>',s.className="h5p-slidedeck-prev",s.disabled=0===this.currentSlide,s.style.opacity=0===this.currentSlide?"0.5":"1",s.addEventListener("click",(function(){t.prevSlide(),t.renderSlide()}));var r=document.createElement("button");r.innerHTML='<i class="fa fa-chevron-right"></i>',r.className="h5p-slidedeck-next",r.disabled=this.currentSlide>=this.params.slides.length-1,r.style.opacity=this.currentSlide>=this.params.slides.length-1?"0.5":"1",r.addEventListener("click",(function(){t.nextSlide(),t.renderSlide()})),n.appendChild(s),n.appendChild(r);var d=document.createElement("div");d.className="left-controls";var c=document.createElement("div");if(c.className="audio-controls",e){var l=document.createElement("button");l.innerHTML='<i class="fa fa-play"></i>',l.className="audio-play-pause",l.addEventListener("click",(function(){if(t.currentAudioElement)if(t.currentAudioElement.paused){var e=t.currentAudioElement.play();void 0!==e&&e.catch((function(e){}))}else t.currentAudioElement.pause()})),c.appendChild(l);var o=document.createElement("div");o.className="speed-controls";var p=document.createElement("button");p.innerHTML="1x",p.className="speed-button";var u=["0.5x","0.75x","1x","1.25x","1.5x","2x"],h=2;p.addEventListener("click",(function(){h=(h+1)%u.length,p.innerHTML=u[h];var e=parseFloat(u[h]);t.currentAudioElement&&(t.currentAudioElement.playbackRate=e)})),o.appendChild(p),c.appendChild(o),this.currentAudioElement&&(l.innerHTML=this.currentAudioElement.paused?'<i class="fa fa-play"></i>':'<i class="fa fa-pause"></i>')}var m=document.createElement("button");m.innerHTML='<i class="fa fa-expand"></i>',m.className="fullscreen-button",m.addEventListener("click",(function(){var e=t.container.closest(".h5p-container")||t.container.parentElement;document.fullscreenElement?(document.exitFullscreen(),e&&e.classList.remove("h5p-fullscreen")):(t.container.requestFullscreen().catch((e=>{})),e&&e.classList.add("h5p-fullscreen"))})),document.addEventListener("fullscreenchange",(function(){m.innerHTML=document.fullscreenElement?'<i class="fa fa-compress"></i>':'<i class="fa fa-expand"></i>';var e=t.container.closest(".h5p-container")||t.container.parentElement;e&&(document.fullscreenElement?e.classList.add("h5p-fullscreen"):e.classList.remove("h5p-fullscreen"))})),d.appendChild(c),d.appendChild(m);var v=document.createElement("div");v.className="right-controls";var f=document.createElement("span");f.className="h5p-slidedeck-count",f.textContent=this.currentSlide+1+" of "+this.params.slides.length,v.appendChild(f),v.appendChild(n),i.appendChild(d),i.appendChild(v),this.container.appendChild(i)},a.prototype.resize=function(){},a}(H5P.jQuery,H5P.EventDispatcher);const a=H5P.SlideDeck;(window.H5P=window.H5P||{}).SlideDeck=t.default})();